<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.mapper.SubjectMapper">
	<resultMap type="com.spring.mapper.entities.Subject"
		id="subjectResult">
		<id column="MAMON" property="subjectId" />
		<result column="TENMON" property="subjectName" />
		<result column="MABOMON" property="departmentId" />
		<result column="MAGV" property="teacherManagementId" />
		<result column="TRANGTHAI" property="status" />
		<collection column="MAMON"
			select="com.spring.mapper.StructureTestMapper.getStructureTestBySubjectId"
			property="structureTest" />
		<collection column="MAMON"
			select="com.spring.mapper.ExamTestMapper.getExamTestBySubjectId"
			property="examTests" />
		<collection column="MAMON"
			select="com.spring.mapper.ChapterMapper.getChapterBySubjectId"
			property="chapters" />
			<collection column="MAMON"
			select="com.spring.mapper.QuestionMapper.getQuestionBySubjectId"
			property="questions" />
	</resultMap>

	<select id="getAllRecord" resultMap="subjectResult"
		resultType="java.util.List">
		select m.* from MON_HOC m
	</select>
	<select id="getSubjectByDepartmentId" resultMap="subjectResult"
		resultType="java.util.List" parameterType="long">
		select * from MON_HOC where
		MABOMON = #{departmentId}
	</select>


</mapper>